{"version":3,"file":"tables.min.js.map","sources":["src/base/sort_tables.js"],"sourcesContent":["const LightTableSorter = (() => {\n\tlet th = null;\n\tlet cellIndex = null;\n\tlet order = '';\n\tconst text = (row) => row.cells.item(cellIndex).textContent.toLowerCase();\n\tconst sort = (a, b) => {\n\t\tlet textA = text(a);\n\t\tlet textB = text(b);\n\t\tconst n = parseInt(textA, 10);\n\t\tif (n) {\n\t\t\ttextA = n;\n\t\t\ttextB = parseInt(textB, 10);\n\t\t}\n\t\tif (textA > textB) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (textA < textB) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t};\n\tconst toggle = () => {\n\t\tconst c = order !== 'sorting_asc' ? 'sorting_asc' : 'sorting_desc';\n\t\tth.className = (th.className.replace(order, '') + ' ' + c).trim();\n\t\treturn order = c;\n\t};\n\tconst reset = () => {\n\t\tth.classList.remove('sorting_asc', 'sorting_desc');\n\t\tth.classList.add('sorting');\n\t\treturn order = '';\n\t};\n\tconst onClickEvent = (e) => {\n\t\tif (th && (cellIndex !== e.target.cellIndex)) {\n\t\t\treset();\n\t\t}\n\t\tth = e.target;\n\t\tif (th.nodeName.toLowerCase() === 'th') {\n\t\t\tcellIndex = th.cellIndex;\n\t\t\tconst tbody = th.offsetParent.getElementsByTagName('tbody')[0];\n\t\t\tlet rows = Array.from(tbody.rows);\n\t\t\tif (rows) {\n\t\t\t\trows.sort(sort);\n\t\t\t\tif (order === 'sorting_asc') {\n\t\t\t\t\trows.reverse();\n\t\t\t\t}\n\t\t\t\ttoggle();\n\t\t\t\ttbody.innerHtml = '';\n\n\t\t\t\trows.forEach(row => {\n\t\t\t\t\ttbody.appendChild(row);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\treturn {\n\t\tinit: () => {\n\t\t\tlet ths = document.getElementsByTagName('th');\n\t\t\tlet results = [];\n\t\t\tfor (let i = 0, len = ths.length; i < len; i++) {\n\t\t\t\tlet th = ths[i];\n\t\t\t\tth.classList.add('sorting');\n\t\t\t\tresults.push(th.onclick = onClickEvent);\n\t\t\t}\n\t\t\treturn results;\n\t\t}\n\t};\n})();\n\nLightTableSorter.init();"],"names":[],"mappings":";;;CAAA,MAAM,gBAAgB,GAAG,CAAC,MAAM;CAChC,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC;CACf,CAAC,IAAI,SAAS,GAAG,IAAI,CAAC;CACtB,CAAC,IAAI,KAAK,GAAG,EAAE,CAAC;CAChB,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;CAC3E,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK;CACxB,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;CACtB,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;CACtB,EAAE,MAAM,CAAC,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;CAChC,EAAE,IAAI,CAAC,EAAE;CACT,GAAG,KAAK,GAAG,CAAC,CAAC;CACb,GAAG,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;CAC/B,GAAG;CACH,EAAE,IAAI,KAAK,GAAG,KAAK,EAAE;CACrB,GAAG,OAAO,CAAC,CAAC;CACZ,GAAG;CACH,EAAE,IAAI,KAAK,GAAG,KAAK,EAAE;CACrB,GAAG,OAAO,CAAC,CAAC,CAAC;CACb,GAAG;CACH,EAAE,OAAO,CAAC,CAAC;CACX,EAAE,CAAC;CACH,CAAC,MAAM,MAAM,GAAG,MAAM;CACtB,EAAE,MAAM,CAAC,GAAG,KAAK,KAAK,aAAa,GAAG,aAAa,GAAG,cAAc,CAAC;CACrE,EAAE,EAAE,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,IAAI,EAAE,CAAC;CACpE,EAAE,OAAO,KAAK,GAAG,CAAC,CAAC;CACnB,EAAE,CAAC;CACH,CAAC,MAAM,KAAK,GAAG,MAAM;CACrB,EAAE,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;CACrD,EAAE,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;CAC9B,EAAE,OAAO,KAAK,GAAG,EAAE,CAAC;CACpB,EAAE,CAAC;CACH,CAAC,MAAM,YAAY,GAAG,CAAC,CAAC,KAAK;CAC7B,EAAE,IAAI,EAAE,KAAK,SAAS,KAAK,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;CAChD,GAAG,KAAK,EAAE,CAAC;CACX,GAAG;CACH,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;CAChB,EAAE,IAAI,EAAE,CAAC,QAAQ,CAAC,WAAW,EAAE,KAAK,IAAI,EAAE;CAC1C,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;CAC5B,GAAG,MAAM,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;CAClE,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;CACrC,GAAG,IAAI,IAAI,EAAE;CACb,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CACpB,IAAI,IAAI,KAAK,KAAK,aAAa,EAAE;CACjC,KAAK,IAAI,CAAC,OAAO,EAAE,CAAC;CACpB,KAAK;CACL,IAAI,MAAM,EAAE,CAAC;CACb,IAAI,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;;CAEzB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI;CACxB,KAAK,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;CAC5B,KAAK,CAAC,CAAC;CACP,IAAI;CACJ,GAAG;CACH,EAAE,CAAC;CACH,CAAC,OAAO;CACR,EAAE,IAAI,EAAE,MAAM;CACd,GAAG,IAAI,GAAG,GAAG,QAAQ,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;CACjD,GAAG,IAAI,OAAO,GAAG,EAAE,CAAC;CACpB,GAAG,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;CACnD,IAAI,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;CACpB,IAAI,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;CAChC,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,YAAY,CAAC,CAAC;CAC5C,IAAI;CACJ,GAAG,OAAO,OAAO,CAAC;CAClB,GAAG;CACH,EAAE,CAAC;CACH,CAAC,GAAG,CAAC;;CAEL,gBAAgB,CAAC,IAAI,EAAE;;;;"}